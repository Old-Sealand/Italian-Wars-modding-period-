# IW Map Province Treaties League:
custom_button = {
    name = IW_m_p_t_l_open
	potential = { NOT = { has_country_flag = IW_m_p_t_l_window } }
    effect = { hidden_effect = { set_country_flag = IW_m_p_t_l_window } }
    tooltip = IW_m_p_t_l_open_close_loc
}
custom_button = {
    name = IW_m_p_t_l_close
	potential = { has_country_flag = IW_m_p_t_l_window }
    effect = { hidden_effect = { clr_country_flag = IW_m_p_t_l_window } }
    tooltip = IW_m_p_t_l_open_close_loc
}
# IW Window:
custom_window = {
    name = IW_m_p_t_l_window
    potential = { has_country_flag = IW_m_p_t_l_window }
}
custom_icon = {
	name = IW_m_p_t_l_background
}

######################
# IW Map Window:
custom_window = {
    name = IW_map_window
    potential = { has_country_flag = IW_m_p_t_l_window }
}
custom_icon = {
	name = IW_map_background
}
custom_button = {
    name = IW_map_prov_01
    effect = {
		set_IW_map_prov_window_flag = { number = 01 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_01_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_01_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_01_inf value = 51 } } NOT = { has_country_flag = IW_province_01_peace_flag } NOT = { has_country_flag = IW_province_01_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_01_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_01_full_infl_flag } has_country_flag = IW_province_01_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_01_full_infl_flag } has_country_flag = IW_province_01_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_01_inf value = 100 } has_country_flag = IW_province_01_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_02
    effect = {
		set_IW_map_prov_window_flag = { number = 02 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_02_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_02_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_02_inf value = 51 } } NOT = { has_country_flag = IW_province_02_peace_flag } NOT = { has_country_flag = IW_province_02_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_02_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_02_full_infl_flag } has_country_flag = IW_province_02_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_02_full_infl_flag } has_country_flag = IW_province_02_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_02_inf value = 100 } has_country_flag = IW_province_02_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_03
    effect = {
		set_IW_map_prov_window_flag = { number = 03 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_03_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_03_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_03_inf value = 51 } } NOT = { has_country_flag = IW_province_03_peace_flag } NOT = { has_country_flag = IW_province_03_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_03_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_03_full_infl_flag } has_country_flag = IW_province_03_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_03_full_infl_flag } has_country_flag = IW_province_03_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_03_inf value = 100 } has_country_flag = IW_province_03_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_04
    effect = {
		set_IW_map_prov_window_flag = { number = 04 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_04_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_04_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_04_inf value = 51 } } NOT = { has_country_flag = IW_province_04_peace_flag } NOT = { has_country_flag = IW_province_04_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_04_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_04_full_infl_flag } has_country_flag = IW_province_04_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_04_full_infl_flag } has_country_flag = IW_province_04_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_04_inf value = 100 } has_country_flag = IW_province_04_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_05
    effect = {
		set_IW_map_prov_window_flag = { number = 05 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_05_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_05_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_05_inf value = 51 } } NOT = { has_country_flag = IW_province_05_peace_flag } NOT = { has_country_flag = IW_province_05_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_05_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_05_full_infl_flag } has_country_flag = IW_province_05_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_05_full_infl_flag } has_country_flag = IW_province_05_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_05_inf value = 100 } has_country_flag = IW_province_05_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_06
    effect = {
		set_IW_map_prov_window_flag = { number = 06 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_06_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_06_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_06_inf value = 51 } } NOT = { has_country_flag = IW_province_06_peace_flag } NOT = { has_country_flag = IW_province_06_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_06_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_06_full_infl_flag } has_country_flag = IW_province_06_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_06_full_infl_flag } has_country_flag = IW_province_06_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_06_inf value = 100 } has_country_flag = IW_province_06_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_07
    effect = {
		set_IW_map_prov_window_flag = { number = 07 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_07_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_07_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_07_inf value = 51 } } NOT = { has_country_flag = IW_province_07_peace_flag } NOT = { has_country_flag = IW_province_07_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_07_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_07_full_infl_flag } has_country_flag = IW_province_07_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_07_full_infl_flag } has_country_flag = IW_province_07_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_07_inf value = 100 } has_country_flag = IW_province_07_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_08
    effect = {
		set_IW_map_prov_window_flag = { number = 08 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_08_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_08_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_08_inf value = 51 } } NOT = { has_country_flag = IW_province_08_peace_flag } NOT = { has_country_flag = IW_province_08_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_08_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_08_full_infl_flag } has_country_flag = IW_province_08_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_08_full_infl_flag } has_country_flag = IW_province_08_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_08_inf value = 100 } has_country_flag = IW_province_08_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_09
    effect = {
		set_IW_map_prov_window_flag = { number = 09 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_09_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_09_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_09_inf value = 51 } } NOT = { has_country_flag = IW_province_09_peace_flag } NOT = { has_country_flag = IW_province_09_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_09_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_09_full_infl_flag } has_country_flag = IW_province_09_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_09_full_infl_flag } has_country_flag = IW_province_09_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_09_inf value = 100 } has_country_flag = IW_province_09_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_10
    effect = {
		set_IW_map_prov_window_flag = { number = 10 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_10_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_10_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_10_inf value = 51 } } NOT = { has_country_flag = IW_province_10_peace_flag } NOT = { has_country_flag = IW_province_10_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_10_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_10_full_infl_flag } has_country_flag = IW_province_10_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_10_full_infl_flag } has_country_flag = IW_province_10_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_10_inf value = 100 } has_country_flag = IW_province_10_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_11
    effect = {
		set_IW_map_prov_window_flag = { number = 11 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_11_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_11_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_11_inf value = 51 } } NOT = { has_country_flag = IW_province_11_peace_flag } NOT = { has_country_flag = IW_province_11_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_11_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_11_full_infl_flag } has_country_flag = IW_province_11_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_11_full_infl_flag } has_country_flag = IW_province_11_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_11_inf value = 100 } has_country_flag = IW_province_11_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_12
    effect = {
		set_IW_map_prov_window_flag = { number = 12 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_12_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_12_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_12_inf value = 51 } } NOT = { has_country_flag = IW_province_12_peace_flag } NOT = { has_country_flag = IW_province_12_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_12_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_12_full_infl_flag } has_country_flag = IW_province_12_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_12_full_infl_flag } has_country_flag = IW_province_12_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_12_inf value = 100 } has_country_flag = IW_province_12_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_13
    effect = {
		set_IW_map_prov_window_flag = { number = 13 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_13_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_13_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_13_inf value = 51 } } NOT = { has_country_flag = IW_province_13_peace_flag } NOT = { has_country_flag = IW_province_13_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_13_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_13_full_infl_flag } has_country_flag = IW_province_13_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_13_full_infl_flag } has_country_flag = IW_province_13_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_13_inf value = 100 } has_country_flag = IW_province_13_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_14
    effect = {
		set_IW_map_prov_window_flag = { number = 14 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_14_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_14_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_14_inf value = 51 } } NOT = { has_country_flag = IW_province_14_peace_flag } NOT = { has_country_flag = IW_province_14_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_14_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_14_full_infl_flag } has_country_flag = IW_province_14_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_14_full_infl_flag } has_country_flag = IW_province_14_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_14_inf value = 100 } has_country_flag = IW_province_14_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_15
    effect = {
		set_IW_map_prov_window_flag = { number = 15 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_15_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_15_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_15_inf value = 51 } } NOT = { has_country_flag = IW_province_15_peace_flag } NOT = { has_country_flag = IW_province_15_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_15_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_15_full_infl_flag } has_country_flag = IW_province_15_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_15_full_infl_flag } has_country_flag = IW_province_15_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_15_inf value = 100 } has_country_flag = IW_province_15_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_16
    effect = {
		set_IW_map_prov_window_flag = { number = 16 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_16_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_16_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_16_inf value = 51 } } NOT = { has_country_flag = IW_province_16_peace_flag } NOT = { has_country_flag = IW_province_16_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_16_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_16_full_infl_flag } has_country_flag = IW_province_16_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_16_full_infl_flag } has_country_flag = IW_province_16_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_16_inf value = 100 } has_country_flag = IW_province_16_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_17
    effect = {
		set_IW_map_prov_window_flag = { number = 17 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_17_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_17_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_17_inf value = 51 } } NOT = { has_country_flag = IW_province_17_peace_flag } NOT = { has_country_flag = IW_province_17_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_17_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_17_full_infl_flag } has_country_flag = IW_province_17_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_17_full_infl_flag } has_country_flag = IW_province_17_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_17_inf value = 100 } has_country_flag = IW_province_17_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_18
    effect = {
		set_IW_map_prov_window_flag = { number = 18 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_18_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_18_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_18_inf value = 51 } } NOT = { has_country_flag = IW_province_18_peace_flag } NOT = { has_country_flag = IW_province_18_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_18_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_18_full_infl_flag } has_country_flag = IW_province_18_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_18_full_infl_flag } has_country_flag = IW_province_18_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_18_inf value = 100 } has_country_flag = IW_province_18_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_19
    effect = {
		set_IW_map_prov_window_flag = { number = 19 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_19_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_19_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_19_inf value = 51 } } NOT = { has_country_flag = IW_province_19_peace_flag } NOT = { has_country_flag = IW_province_19_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_19_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_19_full_infl_flag } has_country_flag = IW_province_19_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_19_full_infl_flag } has_country_flag = IW_province_19_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_19_inf value = 100 } has_country_flag = IW_province_19_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_20
    effect = {
		set_IW_map_prov_window_flag = { number = 20 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_20_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_20_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_20_inf value = 51 } } NOT = { has_country_flag = IW_province_20_peace_flag } NOT = { has_country_flag = IW_province_20_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_20_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_20_full_infl_flag } has_country_flag = IW_province_20_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_20_full_infl_flag } has_country_flag = IW_province_20_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_20_inf value = 100 } has_country_flag = IW_province_20_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_21
    effect = {
		set_IW_map_prov_window_flag = { number = 21 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_21_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_21_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_21_inf value = 51 } } NOT = { has_country_flag = IW_province_21_peace_flag } NOT = { has_country_flag = IW_province_21_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_21_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_21_full_infl_flag } has_country_flag = IW_province_21_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_21_full_infl_flag } has_country_flag = IW_province_21_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_21_inf value = 100 } has_country_flag = IW_province_21_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_22
    effect = {
		set_IW_map_prov_window_flag = { number = 22 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_22_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_22_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_22_inf value = 51 } } NOT = { has_country_flag = IW_province_22_peace_flag } NOT = { has_country_flag = IW_province_22_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_22_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_22_full_infl_flag } has_country_flag = IW_province_22_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_22_full_infl_flag } has_country_flag = IW_province_22_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_22_inf value = 100 } has_country_flag = IW_province_22_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_23
    effect = {
		set_IW_map_prov_window_flag = { number = 23 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_23_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_23_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_23_inf value = 51 } } NOT = { has_country_flag = IW_province_23_peace_flag } NOT = { has_country_flag = IW_province_23_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_23_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_23_full_infl_flag } has_country_flag = IW_province_23_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_23_full_infl_flag } has_country_flag = IW_province_23_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_23_inf value = 100 } has_country_flag = IW_province_23_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_24
    effect = {
		set_IW_map_prov_window_flag = { number = 24 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_24_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_24_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_24_inf value = 51 } } NOT = { has_country_flag = IW_province_24_peace_flag } NOT = { has_country_flag = IW_province_24_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_24_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_24_full_infl_flag } has_country_flag = IW_province_24_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_24_full_infl_flag } has_country_flag = IW_province_24_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_24_inf value = 100 } has_country_flag = IW_province_24_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_25
    effect = {
		set_IW_map_prov_window_flag = { number = 25 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_25_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_25_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_25_inf value = 51 } } NOT = { has_country_flag = IW_province_25_peace_flag } NOT = { has_country_flag = IW_province_25_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_25_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_25_full_infl_flag } has_country_flag = IW_province_25_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_25_full_infl_flag } has_country_flag = IW_province_25_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_25_inf value = 100 } has_country_flag = IW_province_25_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_26
    effect = {
		set_IW_map_prov_window_flag = { number = 26 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_26_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_26_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_26_inf value = 51 } } NOT = { has_country_flag = IW_province_26_peace_flag } NOT = { has_country_flag = IW_province_26_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_26_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_26_full_infl_flag } has_country_flag = IW_province_26_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_26_full_infl_flag } has_country_flag = IW_province_26_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_26_inf value = 100 } has_country_flag = IW_province_26_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_27
    effect = {
		set_IW_map_prov_window_flag = { number = 27 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_27_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_27_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_27_inf value = 51 } } NOT = { has_country_flag = IW_province_27_peace_flag } NOT = { has_country_flag = IW_province_27_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_27_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_27_full_infl_flag } has_country_flag = IW_province_27_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_27_full_infl_flag } has_country_flag = IW_province_27_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_27_inf value = 100 } has_country_flag = IW_province_27_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_28
    effect = {
		set_IW_map_prov_window_flag = { number = 28 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_28_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_28_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_28_inf value = 51 } } NOT = { has_country_flag = IW_province_28_peace_flag } NOT = { has_country_flag = IW_province_28_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_28_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_28_full_infl_flag } has_country_flag = IW_province_28_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_28_full_infl_flag } has_country_flag = IW_province_28_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_28_inf value = 100 } has_country_flag = IW_province_28_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_29
    effect = {
		set_IW_map_prov_window_flag = { number = 29 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_29_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_29_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_29_inf value = 51 } } NOT = { has_country_flag = IW_province_29_peace_flag } NOT = { has_country_flag = IW_province_29_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_29_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_29_full_infl_flag } has_country_flag = IW_province_29_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_29_full_infl_flag } has_country_flag = IW_province_29_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_29_inf value = 100 } has_country_flag = IW_province_29_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_30
    effect = {
		set_IW_map_prov_window_flag = { number = 30 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_30_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_30_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_30_inf value = 51 } } NOT = { has_country_flag = IW_province_30_peace_flag } NOT = { has_country_flag = IW_province_30_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_30_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_30_full_infl_flag } has_country_flag = IW_province_30_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_30_full_infl_flag } has_country_flag = IW_province_30_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_30_inf value = 100 } has_country_flag = IW_province_30_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_31
    effect = {
		set_IW_map_prov_window_flag = { number = 31 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_31_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_31_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_31_inf value = 51 } } NOT = { has_country_flag = IW_province_31_peace_flag } NOT = { has_country_flag = IW_province_31_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_31_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_31_full_infl_flag } has_country_flag = IW_province_31_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_31_full_infl_flag } has_country_flag = IW_province_31_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_31_inf value = 100 } has_country_flag = IW_province_31_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_32
    effect = {
		set_IW_map_prov_window_flag = { number = 32 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_32_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_32_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_32_inf value = 51 } } NOT = { has_country_flag = IW_province_32_peace_flag } NOT = { has_country_flag = IW_province_32_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_32_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_32_full_infl_flag } has_country_flag = IW_province_32_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_32_full_infl_flag } has_country_flag = IW_province_32_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_32_inf value = 100 } has_country_flag = IW_province_32_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_33
    effect = {
		set_IW_map_prov_window_flag = { number = 33 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_33_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_33_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_33_inf value = 51 } } NOT = { has_country_flag = IW_province_33_peace_flag } NOT = { has_country_flag = IW_province_33_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_33_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_33_full_infl_flag } has_country_flag = IW_province_33_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_33_full_infl_flag } has_country_flag = IW_province_33_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_33_inf value = 100 } has_country_flag = IW_province_33_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_34
    effect = {
		set_IW_map_prov_window_flag = { number = 34 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_34_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_34_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_34_inf value = 51 } } NOT = { has_country_flag = IW_province_34_peace_flag } NOT = { has_country_flag = IW_province_34_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_34_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_34_full_infl_flag } has_country_flag = IW_province_34_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_34_full_infl_flag } has_country_flag = IW_province_34_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_34_inf value = 100 } has_country_flag = IW_province_34_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_35
    effect = {
		set_IW_map_prov_window_flag = { number = 35 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_35_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_35_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_35_inf value = 51 } } NOT = { has_country_flag = IW_province_35_peace_flag } NOT = { has_country_flag = IW_province_35_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_35_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_35_full_infl_flag } has_country_flag = IW_province_35_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_35_full_infl_flag } has_country_flag = IW_province_35_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_35_inf value = 100 } has_country_flag = IW_province_35_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_36
    effect = {
		set_IW_map_prov_window_flag = { number = 36 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_36_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_36_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_36_inf value = 51 } } NOT = { has_country_flag = IW_province_36_peace_flag } NOT = { has_country_flag = IW_province_36_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_36_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_36_full_infl_flag } has_country_flag = IW_province_36_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_36_full_infl_flag } has_country_flag = IW_province_36_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_36_inf value = 100 } has_country_flag = IW_province_36_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_37
    effect = {
		set_IW_map_prov_window_flag = { number = 37 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_37_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_37_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_37_inf value = 51 } } NOT = { has_country_flag = IW_province_37_peace_flag } NOT = { has_country_flag = IW_province_37_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_37_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_37_full_infl_flag } has_country_flag = IW_province_37_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_37_full_infl_flag } has_country_flag = IW_province_37_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_37_inf value = 100 } has_country_flag = IW_province_37_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_38
    effect = {
		set_IW_map_prov_window_flag = { number = 38 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_38_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_38_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_38_inf value = 51 } } NOT = { has_country_flag = IW_province_38_peace_flag } NOT = { has_country_flag = IW_province_38_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_38_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_38_full_infl_flag } has_country_flag = IW_province_38_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_38_full_infl_flag } has_country_flag = IW_province_38_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_38_inf value = 100 } has_country_flag = IW_province_38_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_39
    effect = {
		set_IW_map_prov_window_flag = { number = 39 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_39_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_39_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_39_inf value = 51 } } NOT = { has_country_flag = IW_province_39_peace_flag } NOT = { has_country_flag = IW_province_39_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_39_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_39_full_infl_flag } has_country_flag = IW_province_39_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_39_full_infl_flag } has_country_flag = IW_province_39_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_39_inf value = 100 } has_country_flag = IW_province_39_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_40
    effect = {
		set_IW_map_prov_window_flag = { number = 40 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_40_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_40_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_40_inf value = 51 } } NOT = { has_country_flag = IW_province_40_peace_flag } NOT = { has_country_flag = IW_province_40_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_40_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_40_full_infl_flag } has_country_flag = IW_province_40_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_40_full_infl_flag } has_country_flag = IW_province_40_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_40_inf value = 100 } has_country_flag = IW_province_40_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_41
    effect = {
		set_IW_map_prov_window_flag = { number = 41 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_41_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_41_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_41_inf value = 51 } } NOT = { has_country_flag = IW_province_41_peace_flag } NOT = { has_country_flag = IW_province_41_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_41_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_41_full_infl_flag } has_country_flag = IW_province_41_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_41_full_infl_flag } has_country_flag = IW_province_41_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_41_inf value = 100 } has_country_flag = IW_province_41_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_42
    effect = {
		set_IW_map_prov_window_flag = { number = 42 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_42_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_42_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_42_inf value = 51 } } NOT = { has_country_flag = IW_province_42_peace_flag } NOT = { has_country_flag = IW_province_42_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_42_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_42_full_infl_flag } has_country_flag = IW_province_42_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_42_full_infl_flag } has_country_flag = IW_province_42_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_42_inf value = 100 } has_country_flag = IW_province_42_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_43
    effect = {
		set_IW_map_prov_window_flag = { number = 43 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_43_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_43_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_43_inf value = 51 } } NOT = { has_country_flag = IW_province_43_peace_flag } NOT = { has_country_flag = IW_province_43_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_43_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_43_full_infl_flag } has_country_flag = IW_province_43_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_43_full_infl_flag } has_country_flag = IW_province_43_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_43_inf value = 100 } has_country_flag = IW_province_43_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_44
    effect = {
		set_IW_map_prov_window_flag = { number = 44 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_44_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_44_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_44_inf value = 51 } } NOT = { has_country_flag = IW_province_44_peace_flag } NOT = { has_country_flag = IW_province_44_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_44_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_44_full_infl_flag } has_country_flag = IW_province_44_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_44_full_infl_flag } has_country_flag = IW_province_44_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_44_inf value = 100 } has_country_flag = IW_province_44_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_45
    effect = {
		set_IW_map_prov_window_flag = { number = 45 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_45_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_45_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_45_inf value = 51 } } NOT = { has_country_flag = IW_province_45_peace_flag } NOT = { has_country_flag = IW_province_45_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_45_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_45_full_infl_flag } has_country_flag = IW_province_45_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_45_full_infl_flag } has_country_flag = IW_province_45_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_45_inf value = 100 } has_country_flag = IW_province_45_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_46
    effect = {
		set_IW_map_prov_window_flag = { number = 46 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_46_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_46_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_46_inf value = 51 } } NOT = { has_country_flag = IW_province_46_peace_flag } NOT = { has_country_flag = IW_province_46_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_46_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_46_full_infl_flag } has_country_flag = IW_province_46_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_46_full_infl_flag } has_country_flag = IW_province_46_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_46_inf value = 100 } has_country_flag = IW_province_46_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_47
    effect = {
		set_IW_map_prov_window_flag = { number = 47 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_47_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_47_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_47_inf value = 51 } } NOT = { has_country_flag = IW_province_47_peace_flag } NOT = { has_country_flag = IW_province_47_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_47_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_47_full_infl_flag } has_country_flag = IW_province_47_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_47_full_infl_flag } has_country_flag = IW_province_47_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_47_inf value = 100 } has_country_flag = IW_province_47_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_48
    effect = {
		set_IW_map_prov_window_flag = { number = 48 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_48_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_48_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_48_inf value = 51 } } NOT = { has_country_flag = IW_province_48_peace_flag } NOT = { has_country_flag = IW_province_48_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_48_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_48_full_infl_flag } has_country_flag = IW_province_48_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_48_full_infl_flag } has_country_flag = IW_province_48_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_48_inf value = 100 } has_country_flag = IW_province_48_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_49
    effect = {
		set_IW_map_prov_window_flag = { number = 49 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_49_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_49_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_49_inf value = 51 } } NOT = { has_country_flag = IW_province_49_peace_flag } NOT = { has_country_flag = IW_province_49_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_49_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_49_full_infl_flag } has_country_flag = IW_province_49_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_49_full_infl_flag } has_country_flag = IW_province_49_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_49_inf value = 100 } has_country_flag = IW_province_49_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_50
    effect = {
		set_IW_map_prov_window_flag = { number = 50 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_50_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_50_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_50_inf value = 51 } } NOT = { has_country_flag = IW_province_50_peace_flag } NOT = { has_country_flag = IW_province_50_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_50_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_50_full_infl_flag } has_country_flag = IW_province_50_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_50_full_infl_flag } has_country_flag = IW_province_50_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_50_inf value = 100 } has_country_flag = IW_province_50_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_51
    effect = {
		set_IW_map_prov_window_flag = { number = 51 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_51_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_51_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_51_inf value = 51 } } NOT = { has_country_flag = IW_province_51_peace_flag } NOT = { has_country_flag = IW_province_51_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_51_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_51_full_infl_flag } has_country_flag = IW_province_51_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_51_full_infl_flag } has_country_flag = IW_province_51_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_51_inf value = 100 } has_country_flag = IW_province_51_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_52
    effect = {
		set_IW_map_prov_window_flag = { number = 52 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_52_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_52_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_52_inf value = 51 } } NOT = { has_country_flag = IW_province_52_peace_flag } NOT = { has_country_flag = IW_province_52_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_52_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_52_full_infl_flag } has_country_flag = IW_province_52_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_52_full_infl_flag } has_country_flag = IW_province_52_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_52_inf value = 100 } has_country_flag = IW_province_52_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_53
    effect = {
		set_IW_map_prov_window_flag = { number = 53 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_53_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_53_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_53_inf value = 51 } } NOT = { has_country_flag = IW_province_53_peace_flag } NOT = { has_country_flag = IW_province_53_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_53_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_53_full_infl_flag } has_country_flag = IW_province_53_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_53_full_infl_flag } has_country_flag = IW_province_53_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_53_inf value = 100 } has_country_flag = IW_province_53_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_54
    effect = {
		set_IW_map_prov_window_flag = { number = 54 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_54_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_54_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_54_inf value = 51 } } NOT = { has_country_flag = IW_province_54_peace_flag } NOT = { has_country_flag = IW_province_54_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_54_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_54_full_infl_flag } has_country_flag = IW_province_54_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_54_full_infl_flag } has_country_flag = IW_province_54_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_54_inf value = 100 } has_country_flag = IW_province_54_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_55
    effect = {
		set_IW_map_prov_window_flag = { number = 55 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_55_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_55_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_55_inf value = 51 } } NOT = { has_country_flag = IW_province_55_peace_flag } NOT = { has_country_flag = IW_province_55_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_55_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_55_full_infl_flag } has_country_flag = IW_province_55_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_55_full_infl_flag } has_country_flag = IW_province_55_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_55_inf value = 100 } has_country_flag = IW_province_55_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_56
    effect = {
		set_IW_map_prov_window_flag = { number = 56 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_56_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_56_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_56_inf value = 51 } } NOT = { has_country_flag = IW_province_56_peace_flag } NOT = { has_country_flag = IW_province_56_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_56_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_56_full_infl_flag } has_country_flag = IW_province_56_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_56_full_infl_flag } has_country_flag = IW_province_56_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_56_inf value = 100 } has_country_flag = IW_province_56_full_infl_flag } }
}
custom_button = {
    name = IW_map_prov_57
    effect = {
		set_IW_map_prov_window_flag = { number = 57 }
		set_IW_province_info = yes
	}
    tooltip = IW_map_prov_57_loc
    frame = { number = 2 trigger = { check_variable = { which = IW_map_prov_57_inf value = 1 } NOT = { check_variable = { which = IW_map_prov_57_inf value = 51 } } NOT = { has_country_flag = IW_province_57_peace_flag } NOT = { has_country_flag = IW_province_57_war_flag } } }
    frame = { number = 3 trigger = { has_country_flag = IW_province_57_intervention_flag } }
    frame = { number = 4 trigger = { NOT = { has_country_flag = IW_province_57_full_infl_flag } has_country_flag = IW_province_57_peace_flag } }
    frame = { number = 5 trigger = { NOT = { has_country_flag = IW_province_57_full_infl_flag } has_country_flag = IW_province_57_war_flag } }
    frame = { number = 6 trigger = { check_variable = { which = IW_map_prov_57_inf value = 100 } has_country_flag = IW_province_57_full_infl_flag } }
}
######################
# IW Province Window:
custom_window = {
    name = IW_province_window
    potential = { has_country_flag = IW_province_window }
}
custom_icon = {
	name = IW_province_frame
}
custom_icon = {
	name = IW_province_info
}
custom_text_box = {
    name = IW_province_info_left_banner
}
custom_text_box = {
    name = IW_province_info_left_text
}
custom_text_box = {
    name = IW_province_info_right_banner
}
custom_text_box = {
    name = IW_province_info_right_text
}
custom_shield = {
    name = IW_province_info_left_shield
    trigger = {
	}
    effect = {
	}
    global_event_target = target_left_country
    open_country = yes
}
custom_shield = {
    name = IW_province_info_right_shield
    trigger = {
	}
    effect = {
	}
    global_event_target = target_right_country
    open_country = yes
}
custom_icon = {
	name = IW_province_bar
	tooltip = IW_province_bar_loc
	frame_variable = IW_map_prov_inf
}
custom_icon = {
	name = IW_province_frame_bar
}
custom_button = {
    name = IW_province_start
	trigger = {
		is_subject = no
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_50
			NOT = { check_variable = { which = IW_map_prov_inf value = 50 } }
		}
		iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
        set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        country_event = { id = iw_interaction_events.1 }
	}
    tooltip = IW_province_start_loc
}
custom_button = {
    name = IW_province_finish
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_peace_war_loc
			OR = {
				has_IW_province_peace_flag = yes
				has_IW_province_war_flag = yes
			}
		}
		custom_trigger_tooltip = {
			tooltip = IW_has_influence_100
			check_variable = { which = IW_map_prov_inf value = 100 }
		}
		has_IW_province_finish = yes
		iw_province_cooldown_flag_check = yes
	}
    effect = {
		set_IW_province_finish = yes
	}
    tooltip = IW_province_finish_loc
    frame = { number = 2 trigger = { has_IW_province_peace_flag = yes } }
    frame = { number = 3 trigger = { has_IW_province_war_flag = yes } }
}
# Peace:
custom_button = {
    name = IW_province_peace_connect
	potential = {
		NOT = { has_IW_province_peace_flag = yes }
		NOT = { has_IW_province_war_flag = yes }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = IW_has_influence_50
			check_variable = { which = IW_map_prov_inf value = 50 }
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
		hidden_trigger = { has_IW_province_connect_selected = yes }
		iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		hidden_effect = { set_IW_province_peace_flag = yes }
		set_IW_map_intervention_flag = yes
	}
    tooltip = IW_province_peace_connect_loc
}
custom_button = {
    name = IW_province_peace_left
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_peace_loc
			has_IW_province_peace_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}

        if = {
            limit = {
                NOT = { owns_iw_province = yes }
            }
            owner = {
                OR = {
                    NOT = {
                        estate_loyalty = {
                            estate = estate_burghers
                            loyalty = 40
                        }
                    }
                    NOT = {
                        estate_loyalty = {
                            estate = estate_church
                            loyalty = 40
                        }
                    }
                    NOT = {
                        estate_loyalty = {
                            estate = estate_nobles
                            loyalty = 40
                        }
                    }
                }
            }
        }
        else = {
            crown_land_share = 5
        }
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        if = {
            limit = {
                owns_iw_province = yes
            }

            change_estate_land_share = {
                estate = all
                share = 5
            }

            add_estate_loyalty = {
                estate = all
                loyalty = 10
            }
        }
        else = {
            country_event = { id = iw_interaction_events.2 }

            custom_tooltip = " "

            custom_tooltip = iw_gain_influence_over_estate_tt
        }
	}
    tooltip = IW_province_peace_left_loc
}
custom_button = {
    name = IW_province_peace_mid
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_peace_loc
			has_IW_province_peace_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        if = {
            limit = {
                dip = 0
            }
            add_prestige_or_monarch_power = { amount = -40 }
        }
        else_if = {
            limit = {
                dip = 1
            }
            add_prestige_or_monarch_power = { amount = -35 }
        }
        else_if = {
            limit = {
                dip = 2
            }
            add_prestige_or_monarch_power = { amount = -30 }
        }
        else_if = {
            limit = {
                dip = 3
            }
            add_prestige_or_monarch_power = { amount = -25 }
        }
        else_if = {
            limit = {
                dip = 4
            }
            add_prestige_or_monarch_power = { amount = -20 }
        }
        else_if = {
            limit = {
                dip = 5
            }
            add_prestige_or_monarch_power = { amount = -15 }
        }
        else_if = {
            limit = {
                dip = 6
            }
            add_prestige_or_monarch_power = { amount = -10 }
        }

        custom_tooltip = iw_prestige_cost_depends_on_ruler_dip
	}
    tooltip = IW_province_peace_mid_loc
}
custom_button = {
    name = IW_province_peace_right
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_peace_loc
			has_IW_province_peace_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
        NOT = { owns_iw_province = yes }
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        event_target:selected_province = {
            add_province_modifier = {
                name = iw_sent_artisans
                duration = 365
            }

            add_years_of_income = -1
        }
	}
    tooltip = IW_province_peace_right_loc
}
# War:
custom_button = {
    name = IW_province_war_connect
	potential = {
		NOT = { has_IW_province_peace_flag = yes }
		NOT = { has_IW_province_war_flag = yes }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = IW_has_influence_50
			check_variable = { which = IW_map_prov_inf value = 50 }
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
		hidden_trigger = { has_IW_province_connect_selected = yes }
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		hidden_effect = { set_IW_province_war_flag = yes }
		set_IW_map_intervention_flag = yes
	}
    tooltip = IW_province_war_connect_loc
}
custom_button = {
    name = IW_province_war_left
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_war_loc
			has_IW_province_war_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        event_target:selected_province = {
            owner = {
                add_spy_network_from = {
                    who = ROOT
                    value = -25
                }
            }
        }

        event_target:selected_province = {
            add_province_modifier = {
                name = iw_city_officials_couped
                duration = 365
            }
        }
	}
    tooltip = IW_province_war_left_loc
}
custom_button = {
    name = IW_province_war_mid
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_war_loc
			has_IW_province_war_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        add_yearly_manpower = -0.5

        event_target:selected_province = {
            add_claim = ROOT
        }
	}
    tooltip = IW_province_war_mid_loc
}
custom_button = {
    name = IW_province_war_right
	trigger = {
		custom_trigger_tooltip = {
			tooltip = has_IW_province_war_loc
			has_IW_province_war_flag = yes
		}
		custom_trigger_tooltip = {
			tooltip = IW_not_has_influence_100
			NOT = { check_variable = { which = IW_map_prov_inf value = 100 } }
		}
        iw_province_cooldown_flag_check = yes
	}
    effect = {
		IW_set_province_cooldown_flag = yes
		set_IW_province_progress_bar = yes

        hidden_effect = { set_IW_event_target = yes }

        event_target:selected_province = {
            add_province_modifier = {
                name = iw_disloyal_garrison
                duration = 365
            }
        }

        custom_tooltip = iw_if_province_changes_side_whilst_modifier_active_gain_1_mil_power_tt
	}
    tooltip = IW_province_war_right_loc
}
###
custom_icon = {
	name = IW_province_arrow
	potential = { OR = { has_IW_province_peace_flag = yes has_IW_province_war_flag = yes } }
    frame = { number = 1 trigger = { has_IW_province_peace_flag = yes } }
    frame = { number = 2 trigger = { has_IW_province_war_flag = yes } }
    tooltip = IW_province_arrow_loc
}
######################
# IW Treaties Window:
custom_window = {
    name = IW_treaties_league_window
    potential = { has_country_flag = IW_m_p_t_l_window }
}
custom_window = {
    name = IW_treaties_league_background
}
custom_text_box = {
    name = IW_treaties_league_text
}
custom_icon = {
    name = IW_treaties_frame_1
}
custom_text_box = {
    name = IW_treaties_text
}
custom_button = {
    name = IW_treaties_button_1
	trigger = {
        hidden_trigger = { has_country_flag = IW_m_p_t_l_window }
        if = {
            limit = { has_saved_global_event_target = IW_treaty_exclusive_trade_passed event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_italian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_italians_tt
                has_country_flag = IW_beat_italians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_italians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_exclusive_trade_passed event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_french_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_french_tt
                has_country_flag = IW_beat_french_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_french_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_exclusive_trade_passed event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_iberian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_iberians_tt
                has_country_flag = IW_beat_iberians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_iberians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_exclusive_trade_passed event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_HRE_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_HRE_tt
                has_country_flag = IW_beat_HRE_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_HRE_flag
                        days = 365
                    }
                }
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_imposed_treaty
            check_variable = {
                which = treatyPoints
                value = 1
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_already_enacted_treaty
            NOT = { tag = event_target:IW_treaty_exclusive_trade_passed }
        }
	}
    effect = {
        hidden_effect = {
            event_target:IW_treaty_exclusive_trade_passed = {
                subtract_variable = {            
                    which = numTreatiesPassed
                    value = 1
                }
            }
            if = {
                limit = { event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_italian_league_leader } }
                clr_country_flag = IW_beat_italians_flag
            }
            if = {
                limit = { event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_french_league_leader } }
                clr_country_flag = IW_beat_french_flag
            }
            if = {
                limit = { event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_iberian_league_leader } }
                clr_country_flag = IW_beat_iberians_flag
            }
            if = {
                limit = { event_target:IW_treaty_exclusive_trade_passed = { tag = event_target:IW_HRE_league_leader } }
                clr_country_flag = IW_beat_HRE_flag
            }
            save_global_event_target_as = IW_treaty_exclusive_trade_passed
            subtract_variable = {            
                which = treatyPoints
                value = 1
            }
            change_variable = {            
                which = numTreatiesPassed
                value = 1
            }
        }
	}
    tooltip = IW_treaties_button_1_loc
}
custom_button = {
    name = IW_treaties_button_2
	trigger = {
        hidden_trigger = { has_country_flag = IW_m_p_t_l_window }
        if = {
            limit = { has_saved_global_event_target = IW_treaty_universities_passed event_target:IW_treaty_universities_passed = { tag = event_target:IW_italian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_italians_tt
                has_country_flag = IW_beat_italians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_italians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_universities_passed event_target:IW_treaty_universities_passed = { tag = event_target:IW_french_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_french_tt
                has_country_flag = IW_beat_french_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_french_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_universities_passed event_target:IW_treaty_universities_passed = { tag = event_target:IW_iberian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_iberians_tt
                has_country_flag = IW_beat_iberians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_iberians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_universities_passed event_target:IW_treaty_universities_passed = { tag = event_target:IW_HRE_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_HRE_tt
                has_country_flag = IW_beat_HRE_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_HRE_flag
                        days = 365
                    }
                }
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_imposed_treaty
            check_variable = {
                which = treatyPoints
                value = 1
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_already_enacted_treaty
            NOT = { tag = event_target:IW_treaty_universities_passed }
        }
	}
    effect = {
        hidden_effect = {
            if = {
                limit = { event_target:IW_treaty_universities_passed = { tag = event_target:IW_italian_league_leader } }
                clr_country_flag = IW_beat_italians_flag
            }
            if = {
                limit = { event_target:IW_treaty_universities_passed = { tag = event_target:IW_french_league_leader } }
                clr_country_flag = IW_beat_french_flag
            }
            if = {
                limit = { event_target:IW_treaty_universities_passed = { tag = event_target:IW_iberian_league_leader } }
                clr_country_flag = IW_beat_iberians_flag
            }
            if = {
                limit = { event_target:IW_treaty_universities_passed = { tag = event_target:IW_HRE_league_leader } }
                clr_country_flag = IW_beat_HRE_flag
            }
            save_global_event_target_as = IW_treaty_universities_passed
            subtract_variable = {            
                which = treatyPoints
                value = 1
            }
        }
	}
    tooltip = IW_treaties_button_2_loc
}
custom_button = {
    name = IW_treaties_button_3
	trigger = {
        hidden_trigger = { has_country_flag = IW_m_p_t_l_window }
        if = {
            limit = { has_saved_global_event_target = IW_treaty_land_rights_passed event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_italian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_italians_tt
                has_country_flag = IW_beat_italians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_italians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_land_rights_passed event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_french_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_french_tt
                has_country_flag = IW_beat_french_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_french_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_land_rights_passed event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_iberian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_iberians_tt
                has_country_flag = IW_beat_iberians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_iberians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_land_rights_passed event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_HRE_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_HRE_tt
                has_country_flag = IW_beat_HRE_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_HRE_flag
                        days = 365
                    }
                }
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_imposed_treaty
            check_variable = {
                which = treatyPoints
                value = 1
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_already_enacted_treaty
            NOT = { tag = event_target:IW_treaty_land_rights_passed }
        }
	}
    effect = {
        hidden_effect = {
            if = {
                limit = { event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_italian_league_leader } }
                clr_country_flag = IW_beat_italians_flag
            }
            if = {
                limit = { event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_french_league_leader } }
                clr_country_flag = IW_beat_french_flag
            }
            if = {
                limit = { event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_iberian_league_leader } }
                clr_country_flag = IW_beat_iberians_flag
            }
            if = {
                limit = { event_target:IW_treaty_land_rights_passed = { tag = event_target:IW_HRE_league_leader } }
                clr_country_flag = IW_beat_HRE_flag
            }
            save_global_event_target_as = IW_treaty_land_rights_passed
            subtract_variable = {            
                which = treatyPoints
                value = 1
            }
        }
	}
    tooltip = IW_treaties_button_3_loc
}
custom_button = {
    name = IW_treaties_button_4
	trigger = {
        hidden_trigger = { has_country_flag = IW_m_p_t_l_window }
        if = {
            limit = { has_saved_global_event_target = IW_treaty_impressment_passed event_target:IW_treaty_impressment_passed = { tag = event_target:IW_italian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_italians_tt
                has_country_flag = IW_beat_italians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_italians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_impressment_passed event_target:IW_treaty_impressment_passed = { tag = event_target:IW_french_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_french_tt
                has_country_flag = IW_beat_french_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_french_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_impressment_passed event_target:IW_treaty_impressment_passed = { tag = event_target:IW_iberian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_iberians_tt
                has_country_flag = IW_beat_iberians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_iberians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_impressment_passed event_target:IW_treaty_impressment_passed = { tag = event_target:IW_HRE_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_HRE_tt
                has_country_flag = IW_beat_HRE_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_HRE_flag
                        days = 365
                    }
                }
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_imposed_treaty
            check_variable = {
                which = treatyPoints
                value = 1
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_already_enacted_treaty
            NOT = { tag = event_target:IW_treaty_impressment_passed }
        }
	}
    effect = {
        hidden_effect = {
            if = {
                limit = { event_target:IW_treaty_impressment_passed = { tag = event_target:IW_italian_league_leader } }
                clr_country_flag = IW_beat_italians_flag
            }
            if = {
                limit = { event_target:IW_treaty_impressment_passed = { tag = event_target:IW_french_league_leader } }
                clr_country_flag = IW_beat_french_flag
            }
            if = {
                limit = { event_target:IW_treaty_impressment_passed = { tag = event_target:IW_iberian_league_leader } }
                clr_country_flag = IW_beat_iberians_flag
            }
            if = {
                limit = { event_target:IW_treaty_impressment_passed = { tag = event_target:IW_HRE_league_leader } }
                clr_country_flag = IW_beat_HRE_flag
            }
            save_global_event_target_as = IW_treaty_impressment_passed
            subtract_variable = {            
                which = treatyPoints
                value = 1
            }
        }
	}
    tooltip = IW_treaties_button_4_loc
}
custom_button = {
    name = IW_treaties_button_5
	trigger = {
        hidden_trigger = { has_country_flag = IW_m_p_t_l_window }
        if = {
            limit = { has_saved_global_event_target = IW_treaty_demil_passed event_target:IW_treaty_demil_passed = { tag = event_target:IW_italian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_italians_tt
                has_country_flag = IW_beat_italians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_italians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_demil_passed event_target:IW_treaty_demil_passed = { tag = event_target:IW_french_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_french_tt
                has_country_flag = IW_beat_french_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_french_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_demil_passed event_target:IW_treaty_demil_passed = { tag = event_target:IW_iberian_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_iberians_tt
                has_country_flag = IW_beat_iberians_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_iberians_flag
                        days = 365
                    }
                }
            }
        }
        else_if = {
            limit = { has_saved_global_event_target = IW_treaty_demil_passed event_target:IW_treaty_demil_passed = { tag = event_target:IW_HRE_league_leader } }
            custom_trigger_tooltip = {
                tooltip = IW_beat_HRE_tt
                has_country_flag = IW_beat_HRE_flag
                NOT = {
                    had_country_flag = {
                        flag = IW_beat_HRE_flag
                        days = 365
                    }
                }
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_imposed_treaty
            check_variable = {
                which = treatyPoints
                value = 1
            }
        }
        custom_trigger_tooltip = {
            tooltip = IW_already_enacted_treaty
            NOT = { tag = event_target:IW_treaty_demil_passed }
        }
	}
    effect = {
        hidden_effect = {
            if = {
                limit = { event_target:IW_treaty_demil_passed = { tag = event_target:IW_italian_league_leader } }
                clr_country_flag = IW_beat_italians_flag
            }
            if = {
                limit = { event_target:IW_treaty_demil_passed = { tag = event_target:IW_french_league_leader } }
                clr_country_flag = IW_beat_french_flag
            }
            if = {
                limit = { event_target:IW_treaty_demil_passed = { tag = event_target:IW_iberian_league_leader } }
                clr_country_flag = IW_beat_iberians_flag
            }
            if = {
                limit = { event_target:IW_treaty_demil_passed = { tag = event_target:IW_HRE_league_leader } }
                clr_country_flag = IW_beat_HRE_flag
            }
            save_global_event_target_as = IW_treaty_demil_passed
            subtract_variable = {            
                which = treatyPoints
                value = 1
            }
        }
	}
    tooltip = IW_treaties_button_5_loc
}
custom_icon = {
    name = IW_treaties_frame_2
}
######################
# IW League Tab:
custom_shield = {
    name = IW_league_tab_1_shield
    trigger = {
        hidden_trigger = { has_saved_global_event_target = IW_italian_league_leader }
	}
    effect = {
		hidden_effect = { set_IW_league_tab_flag = { number = 1 member = italian } }
	}
    global_event_target = IW_italian_league_leader
    open_country = no
}
custom_icon = {
    name = IW_league_tab_1
    frame = { number = 2 trigger = { has_country_flag = IW_league_tab_1_flag } }
}
custom_shield = {
    name = IW_league_tab_2_shield
    trigger = {
        hidden_trigger = { has_saved_global_event_target = IW_french_league_leader }
	}
    effect = {
		hidden_effect = { set_IW_league_tab_flag = { number = 2 member = french } }
	}
    global_event_target = IW_french_league_leader
    open_country = no
}
custom_icon = {
    name = IW_league_tab_2
    frame = { number = 2 trigger = { has_country_flag = IW_league_tab_2_flag } }
}
custom_shield = {
    name = IW_league_tab_3_shield
    trigger = {
        hidden_trigger = { has_saved_global_event_target = IW_iberian_league_leader }
	}
    effect = {
		hidden_effect = { set_IW_league_tab_flag = { number = 3 member = iberian } }
	}
    global_event_target = IW_iberian_league_leader
    open_country = no
}
custom_icon = {
    name = IW_league_tab_3
    frame = { number = 2 trigger = { has_country_flag = IW_league_tab_3_flag } }
}
custom_shield = {
    name = IW_league_tab_4_shield
    trigger = {
        hidden_trigger = { has_saved_global_event_target = IW_HRE_league_leader }
	}
    effect = {
		hidden_effect = { set_IW_league_tab_flag = { number = 4 member = HRE } }
	}
    global_event_target = IW_HRE_league_leader
    open_country = no
}
custom_icon = {
    name = IW_league_tab_4
    frame = { number = 2 trigger = { has_country_flag = IW_league_tab_4_flag } }
}
# IW League Window:
custom_window = {
    name = IW_league_window
    potential = { OR = { has_country_flag = IW_league_tab_1_flag has_country_flag = IW_league_tab_2_flag has_country_flag = IW_league_tab_3_flag has_country_flag = IW_league_tab_4_flag } }
}
custom_icon = {
	name = IW_league_background
}
custom_icon = {
	name = IW_league_banner
}
custom_text_box = {
    name = IW_league_text
}
custom_shield = {
    name = IW_league_1_shield
    potential = {
		has_country_flag = IW_league_tab_1_flag
	}
    global_event_target = IW_italian_league_leader
    open_country = yes
}
custom_shield = {
    name = IW_league_2_shield
    potential = {
		has_country_flag = IW_league_tab_2_flag
	}
    global_event_target = IW_french_league_leader
    open_country = yes
}
custom_shield = {
    name = IW_league_3_shield
    potential = {
		has_country_flag = IW_league_tab_3_flag
	}
    global_event_target = IW_iberian_league_leader
    open_country = yes
}
custom_shield = {
    name = IW_league_4_shield
    potential = {
		has_country_flag = IW_league_tab_4_flag
	}
    global_event_target = IW_HRE_league_leader
    open_country = yes
}
custom_icon = {
	name = IW_league_frame
	potential = {
		NOT  = { has_country_flag = IW_league_frame_italy_flag }
		NOT  = { has_country_flag = IW_league_frame_iberia_flag }
		NOT  = { has_country_flag = IW_league_frame_french_flag }
		NOT  = { has_country_flag = IW_league_frame_hre_flag }
		NOT  = { has_country_flag = IW_league_frame_pope_flag }
	}
}
custom_icon = {
	name = IW_league_frame_italy
	potential = {
		has_country_flag = IW_league_frame_italy_flag
		NOT  = { has_country_flag = IW_league_frame_iberia_flag }
		NOT  = { has_country_flag = IW_league_frame_french_flag }
	}
}
custom_icon = {
	name = IW_league_frame_iberia
	potential = {
		has_country_flag = IW_league_frame_iberia_flag
		NOT  = { has_country_flag = IW_league_frame_italy_flag }
		NOT  = { has_country_flag = IW_league_frame_french_flag }
	}
}
custom_icon = {
	name = IW_league_frame_french
	potential = {
		has_country_flag = IW_league_frame_french_flag
		NOT  = { has_country_flag = IW_league_frame_italy_flag }
		NOT  = { has_country_flag = IW_league_frame_iberia_flag }
	}
}
custom_icon = {
	name = IW_league_frame_hre
	potential = {
		has_country_flag = IW_league_frame_hre_flag
		NOT  = { has_country_flag = IW_league_frame_italy_flag }
		NOT  = { has_country_flag = IW_league_frame_iberia_flag }
		NOT  = { has_country_flag = IW_league_frame_french_flag }
	}
}
custom_icon = {
	name = IW_league_frame_pope
	potential = {
		has_country_flag = IW_league_frame_pope_flag
		NOT  = { has_country_flag = IW_league_frame_italy_flag }
		NOT  = { has_country_flag = IW_league_frame_iberia_flag }
		NOT  = { has_country_flag = IW_league_frame_french_flag }
	}
}
custom_button = {
    name = IW_league_top
	trigger = {
        if = {
            limit = { has_country_flag = IW_league_tab_1_flag }
            event_target:IW_italian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 5
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_2_flag }
            event_target:IW_french_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 5
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_3_flag }
            event_target:IW_iberian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 5
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_4_flag }
            event_target:IW_HRE_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 5
                }
            }
        }
	}
    effect = {
	}
    tooltip = IW_league_top_loc
}
custom_button = {
    name = IW_league_mid
	trigger = {
        if = {
            limit = { has_country_flag = IW_league_tab_1_flag }
            event_target:IW_italian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 10
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_2_flag }
            event_target:IW_french_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 10
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_3_flag }
            event_target:IW_iberian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 10
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_4_flag }
            event_target:IW_HRE_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 10
                }
            }
        }
	}
    effect = {
	}
    tooltip = IW_league_mid_loc
}
custom_button = {
    name = IW_league_mid_left
	trigger = {
        if = {
            limit = { has_country_flag = IW_league_tab_1_flag }
            event_target:IW_italian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_drafting_tt
                    NOT = { has_country_flag = IW_chose_drafting }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_2_flag }
            event_target:IW_french_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_drafting_tt
                    NOT = { has_country_flag = IW_chose_drafting }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_3_flag }
            event_target:IW_iberian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_drafting_tt
                    NOT = { has_country_flag = IW_chose_drafting }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_4_flag }
            event_target:IW_HRE_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_drafting_tt
                    NOT = { has_country_flag = IW_chose_drafting }
                }
            }
        }
	}
    effect = {
        if = {
            limit = {
                OR = {
                    AND = {
                        has_country_flag = IW_league_tab_1_flag
                        tag = event_target:IW_italian_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_2_flag
                        tag = event_target:IW_french_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_3_flag
                        tag = event_target:IW_iberian_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_4_flag
                        tag = event_target:IW_HRE_league_leader
                    }
                }
            }
            hidden_effect = { set_country_flag = IW_chose_condot }
        }
	}
    tooltip = IW_league_mid_left_loc
}
custom_button = {
    name = IW_league_mid_right
	trigger = {
        if = {
            limit = { has_country_flag = IW_league_tab_1_flag }
            event_target:IW_italian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_condot_tt
                    NOT = { has_country_flag = IW_chose_condot }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_2_flag }
            event_target:IW_french_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_condot_tt
                    NOT = { has_country_flag = IW_chose_condot }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_3_flag }
            event_target:IW_iberian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_condot_tt
                    NOT = { has_country_flag = IW_chose_condot }
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_4_flag }
            event_target:IW_HRE_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 15
                }
                custom_trigger_tooltip = {
                    tooltip = IW_hasnt_chosen_condot_tt
                    NOT = { has_country_flag = IW_chose_condot }
                }
            }
        }
	}
    effect = {
        if = {
            limit = {
                OR = {
                    AND = {
                        has_country_flag = IW_league_tab_1_flag
                        tag = event_target:IW_italian_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_2_flag
                        tag = event_target:IW_french_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_3_flag
                        tag = event_target:IW_iberian_league_leader
                    }
                    AND = {
                        has_country_flag = IW_league_tab_4_flag
                        tag = event_target:IW_HRE_league_leader
                    }
                }
            }
            hidden_effect = { set_country_flag = IW_chose_drafting }
        }
	}
    tooltip = IW_league_mid_right_loc
}
custom_button = {
    name = IW_league_bottom
	trigger = {
        if = {
            limit = { has_country_flag = IW_league_tab_1_flag }
            event_target:IW_italian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 20
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_2_flag }
            event_target:IW_french_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 20
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_3_flag }
            event_target:IW_iberian_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 20
                }
            }
        }
        else_if = {
            limit = { has_country_flag = IW_league_tab_4_flag }
            event_target:IW_HRE_league_leader = {
                check_variable = {
                    which = numLeagueMembers
                    value = 20
                }
            }
        }
	}
    effect = {
	}
    tooltip = IW_league_bottom_loc
}
custom_button = {
    name = IW_league_overthrow_button
	trigger = {
        if = {
            limit = {
                has_country_flag = IW_league_tab_1_flag
                NOT = { tag = event_target:IW_italian_league_leader }
            }
            if = {
                limit = {
                    has_country_flag = IW_italian_league_member
                }
                # overthrow reqs Italian
                total_development = event_target:IW_italian_league_leader
            }
            else_if = {
                limit = {
                    OR = {
                        tag = event_target:IW_iberian_league_leader
                        tag = event_target:IW_french_league_leader
                        tag = event_target:IW_HRE_league_leader
                    }
                }
                custom_trigger_tooltip = { tooltip = IW_league_wars_have_begun_tt has_global_flag = IW_league_wars_have_begun_flag }
                NOT = { any_country = { is_in_war = { casus_belli = IW_cb_italian_war } } } # declare war req
            }
            else = { hidden_trigger = { always = no } }
        }
        else_if = {
            limit = {
                has_country_flag = IW_league_tab_2_flag
                NOT = { tag = event_target:IW_french_league_leader }
            }
            if = {
                limit = {
                    has_country_flag = IW_french_league_member
                }
                # overthrow reqs French
                total_development = event_target:IW_french_league_leader
            }
            else_if = {
                limit = {
                    OR = {
                        tag = event_target:IW_iberian_league_leader
                        tag = event_target:IW_italian_league_leader
                        tag = event_target:IW_HRE_league_leader
                    }
                }
                custom_trigger_tooltip = { tooltip = IW_league_wars_have_begun_tt has_global_flag = IW_league_wars_have_begun_flag }
                NOT = { any_country = { is_in_war = { casus_belli = IW_cb_italian_war } } } # declare war req
            }
            else = { hidden_trigger = { always = no } }
        }
        else_if = {
            limit = {
                has_country_flag = IW_league_tab_3_flag
                NOT = { tag = event_target:IW_iberian_league_leader }
            }
            if = {
                limit = {
                    has_country_flag = IW_iberian_league_member
                }
                # overthrow reqs Iberian
                total_development = event_target:IW_iberian_league_leader
            }
            else_if = {
                limit = {
                    OR = {
                        tag = event_target:IW_italian_league_leader
                        tag = event_target:IW_french_league_leader
                        tag = event_target:IW_HRE_league_leader
                    }
                }
                custom_trigger_tooltip = { tooltip = IW_league_wars_have_begun_tt has_global_flag = IW_league_wars_have_begun_flag }
                NOT = { any_country = { is_in_war = { casus_belli = IW_cb_italian_war } } } # declare war req
            }
            else = { hidden_trigger = { always = no } }
        }
        else_if = {
            limit = {
                has_country_flag = IW_league_tab_4_flag
                NOT = { tag = event_target:IW_HRE_league_leader }
            }
            if = {
                limit = {
                    has_country_flag = IW_HRE_league_member
                    OR = {
                        has_global_flag = IW_HRE_dismantled
                        event_target:IW_HRE_league_leader = {
                            OR = {
                                tag = event_target:IW_italian_league_leader
                                tag = event_target:IW_iberian_league_leader
                                tag = event_target:IW_french_league_leader
                            }
                        }
                    }
                }
                # overthrow reqs German
                total_development = event_target:IW_HRE_league_leader
            }
            else_if = {
                limit = {
                    OR = {
                        tag = event_target:IW_iberian_league_leader
                        tag = event_target:IW_french_league_leader
                        tag = event_target:IW_italian_league_leader
                    }
                }
                custom_trigger_tooltip = { tooltip = IW_league_wars_have_begun_tt has_global_flag = IW_league_wars_have_begun_flag }
                NOT = { any_country = { is_in_war = { casus_belli = IW_cb_italian_war } } } # declare war req
            }
            else = { hidden_trigger = { always = no } }
        }
        else = { hidden_trigger = { always = no } }
        # else = {
        #     custom_trigger_tooltip = {
        #         tooltip = IW_must_be_league_member
        #         always = no
        #     }
        # }
	}
    effect = {
        if = {
            limit = {
                OR = {
                    tag = event_target:IW_italian_league_leader
                    tag = event_target:IW_french_league_leader
                    tag = event_target:IW_iberian_league_leader
                    tag = event_target:IW_HRE_league_leader
                }
            }
            if = {
                limit = { has_country_flag = IW_league_tab_1_flag }
                if = {
                    limit = {
                        event_target:IW_italian_league_leader = {
                            is_part_of_hre = yes
                            is_emperor = no
                        }
                        is_emperor = no
                        NOT = {
                            emperor = {
                                OR = {
                                    is_in_war = { attackers = ROOT }
                                    is_in_war = { defenders = ROOT }
                                }
                            }
                        }
                    }
                    hidden_effect = {
                        emperor = {
                            declare_war_with_cb = {
                                who = ROOT
                                casus_belli = cb_trade_war
                            }
                        }
                    }
                    declare_war_with_cb = {
                        who = event_target:IW_italian_league_leader
                        casus_belli = IW_cb_italian_war
                    }
                    hidden_effect = { emperor = { white_peace = ROOT } }
                }
                else = {
                    declare_war_with_cb = {
                        who = event_target:IW_italian_league_leader
                        casus_belli = IW_cb_italian_war
                    }
                }
            }
            else_if = {
                limit = { has_country_flag = IW_league_tab_2_flag }
                declare_war_with_cb = {
                    who = event_target:IW_french_league_leader
                    casus_belli = IW_cb_italian_war
                }
            }
            else_if = {
                limit = { has_country_flag = IW_league_tab_3_flag }
                declare_war_with_cb = {
                    who = event_target:IW_iberian_league_leader
                    casus_belli = IW_cb_italian_war
                }
            }
            else_if = {
                limit = { has_country_flag = IW_league_tab_4_flag }
                declare_war_with_cb = {
                    who = event_target:IW_HRE_league_leader
                    casus_belli = IW_cb_italian_war
                }
            }
            custom_tooltip = IW_league_overthrow_button_warning_tt
        }
        else = {
            country_event = { id = IW_setup.1000 }
        }
	}
    tooltip = IW_league_overthrow_button_loc
}
##################
# IW Unite Italy:
custom_icon = {
	name = IW_unite_italy_banner
}
custom_button = {
    name = IW_unite_italy_button
    trigger = {
        custom_trigger_tooltip = {
            tooltip = IW_passed_all_treaties_tt
            has_saved_global_event_target = IW_treaty_exclusive_trade_passed
            has_saved_global_event_target = IW_treaty_universities_passed
            has_saved_global_event_target = IW_treaty_land_rights_passed
            has_saved_global_event_target = IW_treaty_impressment_passed
            has_saved_global_event_target = IW_treaty_demil_passed
            tag = event_target:IW_treaty_exclusive_trade_passed
            tag = event_target:IW_treaty_universities_passed
            tag = event_target:IW_treaty_land_rights_passed
            tag = event_target:IW_treaty_impressment_passed
            tag = event_target:IW_treaty_demil_passed
        }
        italy_region = {
            type = all
            country_or_non_sovereign_subject_holds = ROOT
        }
    }
    effect = {
        hidden_effect = {
            if = {
                limit = { tag = event_target:IW_italian_league_leader }
                every_country = {
                    limit = {
                        OR = {
                            has_country_flag = IW_french_league_member
                            has_country_flag = IW_iberian_league_member
                            has_country_flag = IW_HRE_league_member
                        }
                    }
                    clr_country_flag = IW_french_league_member
                    clr_country_flag = IW_iberian_league_member
                    clr_country_flag = IW_HRE_league_member
                    grant_independence = yes
                }
                clear_global_event_target = IW_french_league_leader
                clear_global_event_target = IW_iberian_league_leader
                clear_global_event_target = IW_HRE_league_leader
            }
            else_if = {
                limit = { tag = event_target:IW_french_league_leader }
                every_country = {
                    limit = {
                        OR = {
                            has_country_flag = IW_italian_league_member
                            has_country_flag = IW_iberian_league_member
                            has_country_flag = IW_HRE_league_member
                        }
                    }
                    clr_country_flag = IW_italian_league_member
                    clr_country_flag = IW_iberian_league_member
                    clr_country_flag = IW_HRE_league_member
                    grant_independence = yes
                }
                clear_global_event_target = IW_italian_league_leader
                clear_global_event_target = IW_iberian_league_leader
                clear_global_event_target = IW_HRE_league_leader
            }
            else_if = {
                limit = { tag = event_target:IW_iberian_league_leader }
                every_country = {
                    limit = {
                        OR = {
                            has_country_flag = IW_italian_league_member
                            has_country_flag = IW_french_league_member
                            has_country_flag = IW_HRE_league_member
                        }
                    }
                    clr_country_flag = IW_italian_league_member
                    clr_country_flag = IW_french_league_member
                    clr_country_flag = IW_HRE_league_member
                    grant_independence = yes
                }
                clear_global_event_target = IW_italian_league_leader
                clear_global_event_target = IW_french_league_leader
                clear_global_event_target = IW_HRE_league_leader
            }
            else_if = {
                limit = { tag = event_target:IW_HRE_league_leader }
                every_country = {
                    limit = {
                        OR = {
                            has_country_flag = IW_italian_league_member
                            has_country_flag = IW_french_league_member
                            has_country_flag = IW_iberian_league_member
                        }
                    }
                    clr_country_flag = IW_italian_league_member
                    clr_country_flag = IW_french_league_member
                    clr_country_flag = IW_iberian_league_member
                    grant_independence = yes
                }
                clear_global_event_target = IW_italian_league_leader
                clear_global_event_target = IW_french_league_leader
                clear_global_event_target = IW_iberian_league_leader
            }
        }
        country_event_with_effect_insight = {
            id = IW_setup.19
            effect = "
                tooltip = {
                    118 = { add_province_triggered_modifier = IW_corona_ferrea_modifier }
                    custom_tooltip = IW_other_provinces_will_also_receive_this_modifier
                }
                
                custom_tooltip = \" \"
                
                custom_tooltip = IW_disband_other_leagues_tt
            "
        }
    }
    tooltip = IW_unite_italy_button_loc
}
custom_icon = {
	name = IW_unite_italy_glow
}